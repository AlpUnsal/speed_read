/* Axilo Overlay Styles - iOS Mismatched to Web */

:host {
  all: initial;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --axilo-red: #E63946;
  --axilo-bg: rgba(10, 10, 10, 0.98);
  --axilo-text-dim: #777777;
  --axilo-text-main: #FFFFFF;
  --axilo-icon-color: #AAAAAA;
}

.axilo-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: var(--axilo-bg);
  backdrop-filter: blur(10px);
  z-index: 2147483647;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  color: var(--axilo-text-main);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: auto;
}

.axilo-overlay.visible {
  opacity: 1;
}

/* === Top Bar === */
.axilo-top-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 24px;
  width: 100%;
  box-sizing: border-box;
}

.axilo-icon-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  color: var(--axilo-icon-color);
  opacity: 0.8;
  transition: opacity 0.2s, transform 0.1s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.axilo-icon-btn:hover {
  opacity: 1;
}

.axilo-icon-btn:active {
  transform: scale(0.92);
}

.axilo-icon-btn svg {
  width: 24px;
  height: 24px;
  fill: currentColor;
}

.axilo-progress-text {
  font-family: "Georgia", serif; /* Fallback for EB Garamond */
  font-size: 16px;
  color: var(--axilo-text-dim);
  font-variant-numeric: tabular-nums;
  opacity: 0.8;
}

/* === Main Reader Area === */
.axilo-reader-container {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  position: relative;
  width: 100%;
}

.axilo-rsvp-word {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; /* User preferred font eventually */
  font-size: 56px;
  font-weight: 600;
  color: #E0E0E0;
  display: flex;
  align-items: center;
  justify-content: center;
  letter-spacing: -0.5px;
}

.axilo-rsvp-center {
  color: var(--axilo-red);
  font-weight: 700;
}

/* === Bottom Control Bar === */
.axilo-bottom-bar {
  display: flex;
  flex-direction: column; /* Stack controls and progress bar */
  width: 100%;
}

.axilo-controls-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 40px;
  padding-bottom: 40px;
}

.axilo-play-btn svg {
  width: 44px; /* Larger play button */
  height: 44px;
}

/* Progress Bar (Very thin at bottom) */
.axilo-progress-track {
  width: 100%;
  height: 4px;
  background-color: #2A2A2A;
  position: relative;
}

.axilo-progress-fill {
  height: 100%;
  background-color: var(--axilo-red);
  width: 0%;
  transition: width 0.1s linear;
}

/* WPM Slider overlay (Top right or integrated? iOS uses swipe gesture)
   For web, let's keep a small slider in the corner or settings menu.
   For now, we'll put it near the bottom or hidden in a settings toggler.
   Let's just put it in the top bar for now alongside progress? 
   No, let's stick to the iOS design -> Swipe up/down gesture support would be cool.
   But for mouse users, we need a slider. Let's start with a subtle slider in the bottom area. */

.axilo-speed-control {
    position: absolute;
    bottom: 100px;
    right: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    opacity: 0.5;
    transition: opacity 0.3s;
}

.axilo-speed-control:hover {
    opacity: 1;
}

.axilo-wpm-label {
    font-size: 12px;
    color: var(--axilo-text-dim);
}

/* Scroll View */
.axilo-scroll-container {
  flex: 1;
  width: 100%;
  max-width: 700px;
  overflow-y: hidden; /* Canvas for custom scrolling? Or auto? For engine we use overflow hidden and JS scroll usually, or just smooth scroll */
  /* For our simple engine, we manipulate scrollTop, so overflow-y: hidden prevents user scroll interference if we want strict control,
     but for "Guided Reading", usually we WANT user to be able to scroll too? 
     Let's allow user scroll but hide scrollbar for aesthetics? */
  overflow-y: auto;
  padding: 40px 20px;
  box-sizing: border-box;
  font-size: 24px;
  line-height: 1.6;
  color: #e0e0e0;
  display: none; /* Hidden by default */
  mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);
}

.axilo-scroll-container.active {
    display: block;
}

/* Hide RSVP when not active */
.axilo-reader-container.hidden {
    display: none;
}

/* Justifies text for reading */
.axilo-scroll-content {
    text-align: justify;
}

/* Highlight line (overlay) */
.axilo-highlight-line {
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 40px;
    background: rgba(255, 59, 48, 0.1);
    border-left: 4px solid var(--axilo-red);
    pointer-events: none;
    display: none; /* Only for scroll mode? layout is tricky */
}
